<form [formGroup]="form" (ngSubmit)="onSubmit()" class="max-w-md mx-auto space-y-4 p-4 bg-white rounded shadow">
  <div>
    <label class="block mb-1 font-semibold">Description</label>
    <input formControlName="description" class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" />
    <div *ngIf="form.get('description')?.touched && form.get('description')?.invalid" class="text-red-600 text-sm mt-1">
      La description est requise.
    </div>
  </div>

  <div>
    <label class="block mb-1 font-semibold">Montant</label>
    <input formControlName="montant" type="number" class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" />
    <div *ngIf="form.get('montant')?.touched && form.get('montant')?.invalid" class="text-red-600 text-sm mt-1">
      Veuillez entrer un montant valide (≥ 0).
    </div>
  </div>

  <div>
    <label class="block mb-1 font-semibold">Date</label>
    <input formControlName="date" type="date" class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" />
    <div *ngIf="form.get('date')?.touched && form.get('date')?.invalid" class="text-red-600 text-sm mt-1">
      La date est requise.
    </div>
  </div>

  <div>
    <label class="block mb-1 font-semibold">Type</label>
    <select formControlName="type" class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
      <option value="income">Income</option>
      <option value="expense">Expense</option>
    </select>
  </div>

  <div>
    <label class="block mb-1 font-semibold">Catégorie</label>
    <select formControlName="categorie" class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
      <option value="" disabled selected>-- Sélectionnez une catégorie --</option>
      <option *ngFor="let cat of categories" [value]="cat">{{ cat }}</option>
    </select>
    <div *ngIf="form.get('categorie')?.touched && form.get('categorie')?.invalid" class="text-red-600 text-sm mt-1">
      La catégorie est requise.
    </div>
  </div>

  <div class="flex space-x-4">
    <button type="submit" [disabled]="form.invalid" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 disabled:opacity-50">
      Enregistrer
    </button>
    <button type="button" (click)="onCancel()" class="bg-gray-400 text-white px-4 py-2 rounded hover:bg-gray-500">
      Annuler
    </button>
  </div>
</form>
